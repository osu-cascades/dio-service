{"version":3,"sources":["../../routes/api.js"],"names":["express","require","models","api","Router","post","req","res","DissolvedOxygenReading","create","reading","body","location","then","status","send","catch","console","error","err","get","findOne","limit","order","log","findAll","result","module","exports"],"mappings":";;AAAA,IAAMA,UAAcC,QAAQ,SAAR,CAApB;AACA,IAAMC,SAAcD,QAAQ,WAAR,CAApB;AACA,IAAME,MAAcH,QAAQI,MAAR,EAApB;;AAGAD,IAAIE,IAAJ,CAAS,KAAT,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BL,WAAOM,sBAAP,CAA8BC,MAA9B,CAAqC;AAClCC,iBAASJ,IAAIK,IAAJ,CAASD,OADgB;AAElCE,kBAAUN,IAAIK,IAAJ,CAASC;AAFe,KAArC,EAGGC,IAHH,CAGQ,YAAM;AACVN,YAAIO,MAAJ,CAAW,GAAX;AACAP,YAAIQ,IAAJ;AACH,KAND,EAMGC,KANH,CAMS;AAAA,eAAOC,QAAQC,KAAR,CAAcC,GAAd,CAAP;AAAA,KANT;AAOH,CARD;;AAUAhB,IAAIiB,GAAJ,CAAQ,UAAR,EAAoB,UAACd,GAAD,EAAMC,GAAN,EAAc;AAC9BL,WAAOM,sBAAP,CAA8Ba,OAA9B,CAAsC;AAClCC,eAAO,CAD2B;AAElCC,eAAO,CAAE,CAAE,WAAF,EAAe,MAAf,CAAF;AAF2B,KAAtC,EAGGV,IAHH,CAGQ,mBAAW;AACfN,YAAIO,MAAJ,CAAW,GAAX;AACAP,YAAIQ,IAAJ,CAASL,OAAT;AACH,KAND,EAMGM,KANH,CAMS;AAAA,eAAOC,QAAQO,GAAR,CAAYL,GAAZ,CAAP;AAAA,KANT;AAOH,CARD;;AAUAhB,IAAIiB,GAAJ,CAAQ,SAAR,EAAmB,UAASd,GAAT,EAAcC,GAAd,EAAmB;AACnCL,WAAOM,sBAAP,CAA8BiB,OAA9B,GAAwCZ,IAAxC,CAA6C,kBAAU;AACnDN,YAAIO,MAAJ,CAAW,GAAX;AACAP,YAAIQ,IAAJ,CAASW,MAAT;AACH,KAHD,EAGGV,KAHH,CAGS;AAAA,eAAOC,QAAQO,GAAR,CAAYL,GAAZ,CAAP;AAAA,KAHT;AAIF,CALD;;AAOAQ,OAAOC,OAAP,GAAiBzB,GAAjB","file":"api.js","sourcesContent":["const express     = require('express');\nconst models      = require('../models');\nconst api         = express.Router();\n\n\napi.post('/do', (req, res) => {\n    models.DissolvedOxygenReading.create({\n       reading: req.body.reading,\n       location: req.body.location\n    }).then(() => {\n        res.status(200);\n        res.send(`Success`);\n    }).catch(err => console.error(err));\n});\n\napi.get('/do/last', (req, res) => {\n    models.DissolvedOxygenReading.findOne({\n        limit: 1,\n        order: [ [ 'createdAt', 'DESC' ] ]\n    }).then(reading => {\n        res.status(200);\n        res.send(reading);\n    }).catch(err => console.log(err));\n});\n\napi.get('/do/all', function(req, res) {\n   models.DissolvedOxygenReading.findAll().then(result => {\n       res.status(200);\n       res.send(result);\n   }).catch(err => console.log(err));\n});\n\nmodule.exports = api;"]}